local Rayfield = loadstring(game:HttpGet("https://raw.githubusercontent.com/SiriusSoftwareLtd/Rayfield/main/source.lua"))()

local function fetchKeys(url)
    print("Fetching keys from:", url)
    local success, response = pcall(function()
        return game:HttpGet(url)
    end)
    if success and response then
        print("Keys fetched successfully.")
        local keys = {}
        for key in response:gmatch("[^\r\n]+") do
            if key ~= "" then
                table.insert(keys, key)
                print("Loaded key:", key)
            end
        end
        if #keys == 0 then
            print("Warning: No keys found in fetched content.")
        end
        return keys
    else
        warn("Failed to fetch keys: ", tostring(response))
        return nil
    end
end

local fallbackKeys = { "Versal2025", "Spadezzisalooser" }
local keysUrl = "https://gist.githubusercontent.com/wild27272/f833aecbdf21de14d34bfc51d931dc8c/raw/e5bef7358f0c3cc7833b36d56a01a3a2d68bafb6/versal_keys.txt"

local fetchedKeys = fetchKeys(keysUrl) or {}

-- Append fallback keys to fetched keys (no duplicates removed)
for _, key in ipairs(fallbackKeys) do
    table.insert(fetchedKeys, key)
end

print("Total valid keys loaded: "..#fetchedKeys)

local Window = Rayfield:CreateWindow({
    Name = "Versal new system",
    LoadingTitle = "Loading...",
    LoadingSubtitle = "by agent duck",
    ConfigurationSaving = {
        Enabled = false
    },
    Discord = {
        Enabled = false
    },
    KeySystem = true,
    KeySettings = {
        Title = "Enter Key",
        Subtitle = "Authentication Required",
        Note = "Join versal scripts for key https://discord.gg/5KzEQKVNde",
        FileName = "Versal2025",
        SaveKey = false,
        GrabKeyFromSite = false,
        KeyChecker = function(inputKey)
            for _, validKey in ipairs(fetchedKeys) do
                if inputKey == validKey then
                    return true
                end
            end
            return false
        end
    }
})

local MainTab = Window:CreateTab("Main", 4483362458)
MainTab:CreateSection("Da Hood Script")

MainTab:CreateButton({
    Name = "Da Hood Script",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wild27272/da-hood/refs/heads/main/full%20script"))()
    end,
})

MainTab:CreateButton({
    Name = "G.A.G Script",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wild27272/grow-a-garden/refs/heads/main/obsucated%20v2"))()
    end,
})
